---
title: "Node.js SDK"
description: "Documentation for ApexxCloud Node.js SDK"
---

## Installation

<CodeGroup>

```bash npm
npm install @apexxcloud/sdk-node
```

```bash yarn
yarn add @apexxcloud/sdk-node
```

</CodeGroup>

## Initialization

```javascript
const ApexxCloud = require("@apexxcloud/sdk-node");

const storage = new ApexxCloud({
  accessKey: "your-access-key",
  secretKey: "your-secret-key",
  region: "bucket-region",
  bucket: "bucket-name",
});
```

## File Operations

### Upload a File

```javascript
// Simple upload

const fileData = fs.readFileSync("./local-file.jpg");
const result = await storage.files.upload(fileData, {
  key: "path/to/file.jpg", // required - path/name in bucket
  bucketName: "bucket-name", // optional if default bucket set
  visibility: "public", // optional, defaults to 'public'
  region: "us-east-1", // optional, overrides default region
});
```

### Delete a File

```javascript
await storage.files.delete(
  "bucket-name", // optional if default bucket set
  "path/to/file.jpg" // file key in bucket
);
```

### Get a Signed URL for Download

```javascript
const url = await storage.files.getSignedUrl(
  "bucket-name", // optional if default bucket set
  "path/to/file.jpg", // file key in bucket
  {
    type: "download",
    expiresIn: 3600, // optional, defaults to 1 hour (in seconds)
  }
);
```

### Generate Pre-Signed URLs for Operations

```javascript
// Generate pre-signed URL for upload
const uploadUrl = await storage.getSignedUrl(
  "bucket-name",
  "path/to/file.jpg",
  {
    type: "upload",
    visibility: "public", // optional
  }
);

// Generate pre-signed URL for delete
const deleteUrl = await storage.getSignedUrl(
  "bucket-name",
  "path/to/file.jpg",
  {
    type: "delete",
  }
);

// Generate pre-signed URL for download
const downloadUrl = await storage.getSignedUrl(
  "bucket-name",
  "path/to/file.jpg",
  {
    type: "download",
    expiresIn: 3600, // optional, defaults to 1 hour
  }
);

// Generate pre-signed URL for starting multipart upload
const startMultipartUrl = await storage.getSignedUrl(
  "bucket-name",
  "large-file.zip",
  {
    type: "start-multipart",
    totalParts: 3, // required
    mimeType: "application/zip", // required
    visibility: "public", // optional
  }
);

// Generate pre-signed URL for uploading a part
const uploadPartUrl = await storage.getSignedUrl(
  "bucket-name",
  "large-file.zip",
  {
    type: "uploadpart",
    uploadId: "upload-id", // required
    partNumber: 1, // required
    totalParts: 3, // required
  }
);

// Generate pre-signed URL for completing multipart upload
const completeMultipartUrl = await storage.getSignedUrl(
  "bucket-name",
  "large-file.zip",
  {
    type: "completemultipart",
    uploadId: "upload-id", // required
  }
);

// Generate pre-signed URL for canceling multipart upload
const cancelMultipartUrl = await storage.getSignedUrl(
  "bucket-name",
  "large-file.zip",
  {
    type: "cancelmultipart",
    uploadId: "upload-id", // required
  }
);
```

Available operation types:

- `upload`: Create new file
- `delete`: Delete existing file
- `download`: Download file
- `start-multipart`: Initialize multipart upload
- `uploadpart`: Upload individual part
- `completemultipart`: Complete multipart upload
- `cancelmultipart`: Cancel multipart upload

## Multipart Upload

```javascript
// 1. Start the multipart upload
const upload = await storage.files.startMultipartUpload(
  "bucket-name",
  "large-file.zip",
  {
    totalParts: 3, // required
    mimeType: "application/zip", // required
    visibility: "public", // optional
  }
);

// 2. Upload individual parts
for (let partNumber = 1; partNumber <= 3; partNumber++) {
  const partResult = await storage.files.uploadPart(
    upload.uploadId,
    partNumber,
    filePartBuffer,
    {
      key: "large-file.zip", // required
      bucketName: "bucket-name", // optional if default bucket set
      totalParts: 3, // required
    }
  );
  parts.push(partResult);
}

// 3. Complete the multipart upload
await storage.files.completeMultipartUpload(upload.uploadId, parts, {
  key: "large-file.zip", // required
  bucketName: "bucket-name", // optional if default bucket set
});
```

If you need to cancel the upload:

```javascript
await storage.files.cancelMultipartUpload(uploadId, {
  bucketName: "bucket-name",
  key: "file-key",
});
```

## Bucket Operations

### List Bucket Contents

```javascript
const contents = await storage.bucket.listContents(
  "bucket-name", // optional if default bucket set
  {
    prefix: "folder/", // optional, filter by prefix
    page: 1, // optional, defaults to 1
    limit: 20, // optional, defaults to 20
  }
);
```

## Error Handling

The SDK uses a consistent error handling pattern:

```javascript
try {
  await storage.files.upload("bucket-name", "./file.jpg");
} catch (error) {
  console.error("Upload failed:", error);
}
```
